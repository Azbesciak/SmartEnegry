{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/app.component.html","./src/app/app.component.scss","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/functional/data/data.service.ts","./src/app/functional/form-utils/min.directive.ts","./src/app/functional/functional.module.ts","./src/app/functional/ui/header/header.component.html","./src/app/functional/ui/header/header.component.scss","./src/app/functional/ui/header/header.component.ts","./src/app/functional/ui/key-value/key-value.component.html","./src/app/functional/ui/key-value/key-value.component.scss","./src/app/functional/ui/key-value/key-value.component.ts","./src/app/functional/ui/material/material.module.ts","./src/app/functional/ui/spacer/spacer.component.html","./src/app/functional/ui/spacer/spacer.component.scss","./src/app/functional/ui/spacer/spacer.component.ts","./src/app/functional/ui/ui.module.ts","./src/app/main/chart/chart.component.html","./src/app/main/chart/chart.component.scss","./src/app/main/chart/chart.component.ts","./src/app/main/home/home.component.html","./src/app/main/home/home.component.scss","./src/app/main/home/home.component.ts","./src/app/main/main.module.ts","./src/app/main/models/models.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","module.exports = \"<app-header></app-header>\\r\\n<app-home></app-home>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.scss\n// module id = ./src/app/app.component.scss\n// module chunks = main","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n\r\n  constructor() {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {BrowserModule} from '@angular/platform-browser';\r\nimport {NgModule} from '@angular/core';\r\n\r\nimport {AppComponent} from './app.component';\r\nimport {HttpClientModule} from \"@angular/common/http\";\r\nimport {DataService} from \"./functional/data/data.service\";\r\nimport {FormsModule} from \"@angular/forms\";\r\nimport {FunctionalModule} from \"./functional/functional.module\";\r\nimport {MainModule} from \"./main/main.module\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    FormsModule,\r\n    FunctionalModule,\r\n    MainModule\r\n  ],\r\n  providers: [DataService],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {Injectable} from '@angular/core';\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {environment as env} from \"../../../environments/environment\"\r\n\r\n@Injectable()\r\nexport class DataService {\r\n\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  getConsumptions() {\r\n    return this.get(\"consumptions\")\r\n  }\r\n\r\n  getConsumptionsBetween(devId: string, dateFrom: number, dateTo: number) {\r\n    return this.get(`consumptions/${devId}/${dateFrom}/${dateTo}`)\r\n  }\r\n\r\n  getDevices() {\r\n    return this.get(\"device\")\r\n  }\r\n\r\n  getDevice(id) {\r\n    return this.get(`device/${id}`)\r\n  }\r\n\r\n  changeDeviceState(id, isEnabled) {\r\n    return this.post(`device/${id}/${isEnabled ? 1 : 0}`)\r\n  }\r\n\r\n  get(url) {\r\n    return this.http.get(toApi(url)).toPromise()\r\n  }\r\n  post(url) {\r\n    return this.http.post(toApi(url), {}).toPromise()\r\n  }\r\n}\r\n\r\nfunction toApi(url: string): string {\r\n  return `${env.apiRoot}/${url}/`\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/functional/data/data.service.ts","import { Directive, Input } from '@angular/core';\r\nimport { NG_VALIDATORS, Validator, FormControl } from '@angular/forms';\r\n\r\n@Directive({\r\n  selector: '[customMin][formControlName],[customMin][formControl],[customMin][ngModel]',\r\n  providers: [{provide: NG_VALIDATORS, useExisting: MinDirective, multi: true}]\r\n})\r\nexport class MinDirective implements Validator {\r\n  @Input()\r\n  customMin: number;\r\n\r\n  validate(c: FormControl): {[key: string]: any} {\r\n    let v = c.value;\r\n    return ( v < this.customMin)? {\"customMin\": true} : null;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/functional/form-utils/min.directive.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {UiModule} from \"./ui/ui.module\";\r\nimport {FormsModule} from \"@angular/forms\";\r\nimport { MinDirective } from './form-utils/min.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    UiModule,\r\n    FormsModule\r\n  ],\r\n  exports: [\r\n    UiModule,\r\n    FormsModule,\r\n    MinDirective\r\n  ],\r\n  declarations: [MinDirective]\r\n})\r\nexport class FunctionalModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/functional/functional.module.ts","module.exports = \"<mat-toolbar>\\r\\n  <a mat-button>\\r\\n    <span>Energy Saver</span></a>\\r\\n  <app-spacer></app-spacer>\\r\\n</mat-toolbar>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/functional/ui/header/header.component.html\n// module id = ./src/app/functional/ui/header/header.component.html\n// module chunks = main","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/functional/ui/header/header.component.scss\n// module id = ./src/app/functional/ui/header/header.component.scss\n// module chunks = main","import {Component, OnInit} from '@angular/core';\r\nimport {MatDialog} from \"@angular/material\";\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss']\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n\r\n  constructor(\r\n    public dialog: MatDialog,) {}\r\n\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/functional/ui/header/header.component.ts","module.exports = \"<div class=\\\"label\\\">{{key}}</div>\\r\\n<div class=\\\"value\\\">{{value}}</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/functional/ui/key-value/key-value.component.html\n// module id = ./src/app/functional/ui/key-value/key-value.component.html\n// module chunks = main","module.exports = \":host {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  font-size: 13px; }\\n  :host .label {\\n    font-weight: 700; }\\n  :host .label:after {\\n      margin-right: 5px;\\n      content: \\\":\\\"; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/functional/ui/key-value/key-value.component.scss\n// module id = ./src/app/functional/ui/key-value/key-value.component.scss\n// module chunks = main","import {Component, Input, OnInit} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-key-value',\r\n  templateUrl: './key-value.component.html',\r\n  styleUrls: ['./key-value.component.scss']\r\n})\r\nexport class KeyValueComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  @Input()\r\n  key: string;\r\n  @Input()\r\n  value: string;\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/functional/ui/key-value/key-value.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {BrowserAnimationsModule} from \"@angular/platform-browser/animations\";\r\nimport {\r\n  MatToolbarModule, MatButtonModule, MatCardModule, MatFormFieldModule, MatInputModule,\r\n  MatIconModule, MatDialogModule,\r\n  MatButtonToggleModule, MatTooltipModule, MatOptionModule, MatSelectModule, MatListModule, MatSlideToggleModule,\r\n  MatRadioModule, MatProgressSpinnerModule,\r\n} from \"@angular/material\";\r\nimport {ReactiveFormsModule} from \"@angular/forms\";\r\nimport {Md2DatepickerModule, MdNativeDateModule} from \"md2\";\r\n\r\nconst MATERIAL_MODULES = [\r\n  BrowserAnimationsModule,\r\n  MatInputModule,\r\n  MatFormFieldModule,\r\n  MatCardModule,\r\n  MatButtonModule,\r\n  MatButtonToggleModule,\r\n  MatToolbarModule,\r\n  MatIconModule,\r\n  MatDialogModule,\r\n  MatOptionModule,\r\n  MatSelectModule,\r\n  ReactiveFormsModule,\r\n  MatTooltipModule,\r\n  Md2DatepickerModule,\r\n  MdNativeDateModule,\r\n  MatListModule,\r\n  MatSlideToggleModule,\r\n  MatRadioModule,\r\n  MatProgressSpinnerModule\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MATERIAL_MODULES\r\n  ],\r\n  exports: [\r\n    BrowserAnimationsModule,\r\n    MATERIAL_MODULES\r\n  ],\r\n  declarations: []\r\n})\r\nexport class MaterialModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/functional/ui/material/material.module.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/functional/ui/spacer/spacer.component.html\n// module id = ./src/app/functional/ui/spacer/spacer.component.html\n// module chunks = main","module.exports = \":host {\\n  -webkit-box-flex: 1;\\n      -ms-flex-positive: 1;\\n          flex-grow: 1; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/functional/ui/spacer/spacer.component.scss\n// module id = ./src/app/functional/ui/spacer/spacer.component.scss\n// module chunks = main","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-spacer',\r\n  templateUrl: './spacer.component.html',\r\n  styleUrls: ['./spacer.component.scss']\r\n})\r\nexport class SpacerComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/functional/ui/spacer/spacer.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {MaterialModule} from \"./material/material.module\";\r\nimport { HeaderComponent } from './header/header.component';\r\nimport { SpacerComponent } from './spacer/spacer.component';\r\nimport { KeyValueComponent } from './key-value/key-value.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MaterialModule\r\n  ],\r\n  exports: [\r\n    MaterialModule,\r\n    HeaderComponent,\r\n    SpacerComponent,\r\n    KeyValueComponent\r\n  ],\r\n  declarations: [HeaderComponent, SpacerComponent, KeyValueComponent]\r\n})\r\nexport class UiModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/functional/ui/ui.module.ts","module.exports = \"<ngx-charts-line-chart\\n  [results]=\\\"chartData\\\"\\n  [gradient]=\\\"gradient\\\"\\n  [xAxis]=\\\"showXAxis\\\"\\n  [yAxis]=\\\"showYAxis\\\"\\n  [legend]=\\\"showLegend\\\"\\n  legendTitle=\\\"Device\\\"\\n  [showXAxisLabel]=\\\"showXAxisLabel\\\"\\n  [showYAxisLabel]=\\\"showYAxisLabel\\\"\\n  [xAxisLabel]=\\\"xAxisLabel\\\"\\n  [yAxisLabel]=\\\"yAxisLabel\\\"\\n  [autoScale]=\\\"autoScale\\\">\\n</ngx-charts-line-chart>\\n<mat-form-field class=\\\"granulation-input\\\">\\n  <mat-select placeholder=\\\"granulation\\\" [(value)]=\\\"currentGranulation\\\"\\n              (selectionChange)=\\\"onGranulationChange($event)\\\">\\n    <mat-option *ngFor=\\\"let g of granulations\\\" [value]=\\\"g\\\">\\n      {{ g.type }}\\n    </mat-option>\\n  </mat-select>\\n</mat-form-field>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/main/chart/chart.component.html\n// module id = ./src/app/main/chart/chart.component.html\n// module chunks = main","module.exports = \".granulation-input {\\n  margin-top: 10px; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/main/chart/chart.component.scss\n// module id = ./src/app/main/chart/chart.component.scss\n// module chunks = main","import {Component, Input, OnInit, ViewEncapsulation} from '@angular/core';\nimport {Subject} from \"rxjs/Subject\";\nimport {ChartSeries, ChartValue, Consumption, Granulation} from \"../models/models\";\nimport {groupBy, map, mergeMap, toArray} from \"rxjs/operators\";\nimport {from} from \"rxjs/observable/from\";\nimport {MatSelectChange} from \"@angular/material\";\n\n@Component({\n  selector: 'app-chart',\n  templateUrl: './chart.component.html',\n  styleUrls: ['./chart.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ChartComponent implements OnInit {\n\n  showXAxis = true;\n  showYAxis = true;\n  gradient = true;\n  showLegend = true;\n  showXAxisLabel = true;\n  xAxisLabel = 'Time';\n  showYAxisLabel = true;\n  yAxisLabel = 'Consumption';\n// line, area\n  autoScale = true;\n  chartData: ChartSeries[] = [];\n  consumptions: Consumption[];\n\n  @Input()\n  consumptionsBus: Subject<Consumption[]>;\n  currentGranulation: Granulation;\n\n  granulations = [\n    new Granulation(\"Hour\", val => ChartValue.fromTime(val.value, val.name.setMinutes(0, 0, 0))),\n    new Granulation(\"Day\", val => ChartValue.fromTime(val.value, val.name.setHours(0, 0, 0, 0))),\n    new Granulation(\"Week\", val => {\n      const temp = new Date(val.name);\n      temp.setHours(0, 0, 0, 0);\n      temp.setDate(temp.getDate() - temp.getDay() + 1);\n      return new ChartValue(val.value, temp);\n    })\n  ];\n  constructor() {\n  }\n\n  onGranulationChange($event: MatSelectChange) {\n    this.groupConsumptions(this.consumptions)\n  }\n\n   private groupConsumptions(consumptions) {\n    this.consumptions = consumptions;\n    from(consumptions)\n      .pipe(\n        groupBy((c: Consumption) => c.device_id),\n        mergeMap(g => g.toArray()),\n        map(x => new ChartSeries(x, this.currentGranulation)),\n        toArray()\n      ).subscribe(x => this.chartData = x)\n  }\n\n  ngOnInit() {\n    this.currentGranulation = this.granulations[0];\n    this.consumptionsBus.subscribe(x => this.groupConsumptions(x))\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main/chart/chart.component.ts","module.exports = \"<div class=\\\"wrapper\\\">\\r\\n  <mat-card class=\\\"chart\\\">\\r\\n    <mat-card-title style=\\\"text-align: center\\\">\\r\\n      Energy Consumption by devices\\r\\n    </mat-card-title>\\r\\n    <mat-card-content>\\r\\n      <div class=\\\"loading-spinner\\\" *ngIf=\\\"isLoading\\\">\\r\\n        <mat-spinner></mat-spinner>\\r\\n      </div>\\r\\n      <app-chart [consumptionsBus]=\\\"consumptionsBus\\\"></app-chart>\\r\\n    </mat-card-content>\\r\\n  </mat-card>\\r\\n  <div class=\\\"selection\\\">\\r\\n    <mat-card class=\\\"date-select\\\">\\r\\n      <md2-datepicker type=\\\"datetime\\\" [(ngModel)]=\\\"dateFrom\\\" placeholder=\\\"Date from\\\" #dateFromDatePick\\r\\n                      (change)=\\\"onDateChange()\\\" [max]=\\\"dateTo || maxDate\\\" class=\\\"date-from\\\">\\r\\n      </md2-datepicker>\\r\\n      <md2-datepicker type=\\\"datetime\\\" [(ngModel)]=\\\"dateTo\\\" placeholder=\\\"Date to\\\" #dateToDatePick\\r\\n                      (change)=\\\"onDateChange()\\\" [max]=\\\"maxDate\\\" [min]=\\\"dateFrom\\\" class=\\\"date-to\\\">\\r\\n      </md2-datepicker>\\r\\n      <mat-radio-group #dateIntervalRadio (change)=\\\"onDateIntervalChange($event)\\\" [value]=\\\"selectedDateInterval\\\" class=\\\"intervals\\\">\\r\\n        <mat-radio-button *ngFor=\\\"let inter of dateIntervals\\\" [value]=\\\"inter\\\">\\r\\n          {{ inter.name }}\\r\\n        </mat-radio-button>\\r\\n      </mat-radio-group>\\r\\n      <button mat-raised-button color=\\\"primary\\\" (click)=\\\"getConsumptions()\\\" [disabled]=\\\"!canSearch()\\\" class=\\\"search-button\\\">Search</button>\\r\\n    </mat-card>\\r\\n    <mat-card>\\r\\n      <mat-selection-list #devicesView  class=\\\"devices\\\">\\r\\n        <h3 mat-subheader>Devices</h3>\\r\\n        <mat-list-option *ngFor=\\\"let dev of devices\\\" [checkboxPosition]=\\\"before\\\" [value]=\\\"dev\\\" class=\\\"device-wrap\\\">\\r\\n          <div class=\\\"device\\\">\\r\\n            <app-key-value key=\\\"Id\\\" [value]=\\\"dev.id\\\" class=\\\"id-wrap\\\"></app-key-value>\\r\\n            <mat-slide-toggle [checked]=\\\"dev.state\\\" (click)=\\\"stopProp($event)\\\" (change)=\\\"onStateChange($event, dev)\\\"\\r\\n                              labelPosition=\\\"before\\\" class=\\\"state-toggle\\\">\\r\\n              State\\r\\n            </mat-slide-toggle>\\r\\n            <app-key-value key=\\\"Description\\\" [value]=\\\"dev.description\\\" class=\\\"description\\\"></app-key-value>\\r\\n          </div>\\r\\n        </mat-list-option>\\r\\n      </mat-selection-list>\\r\\n    </mat-card>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/main/home/home.component.html\n// module id = ./src/app/main/home/home.component.html\n// module chunks = main","module.exports = \":host {\\n  display: -ms-grid;\\n  display: grid;\\n  height: calc(100vh - 64px);\\n  -ms-grid-columns: minmax(0, auto) auto minmax(0, auto);\\n      grid-template-columns: minmax(0, auto) auto minmax(0, auto);\\n  -ms-grid-rows: minmax(0, 30px) auto auto minmax(0, auto);\\n      grid-template-rows: minmax(0, 30px) auto auto minmax(0, auto);\\n  grid-row-gap: 20px;\\n  grid-column-gap: 10px; }\\n  :host .wrapper {\\n    grid-row-gap: 15px;\\n    -ms-grid-row: 2;\\n    grid-row: 2;\\n    -ms-grid-column: 2;\\n    grid-column: 2;\\n    display: -ms-grid;\\n    display: grid; }\\n  :host .wrapper .chart app-chart {\\n      width: 100%;\\n      min-height: 400px;\\n      display: inline-block; }\\n  @media screen and (min-height: 600px) {\\n        :host .wrapper .chart app-chart {\\n          max-height: 40vh; } }\\n  :host .wrapper .chart .loading-spinner {\\n      position: absolute;\\n      z-index: 999;\\n      overflow: show;\\n      margin: auto;\\n      top: 0;\\n      left: 0;\\n      bottom: 0;\\n      right: 0;\\n      display: -ms-grid;\\n      display: grid;\\n      -ms-grid-columns: auto max-content auto;\\n          grid-template-columns: auto -webkit-max-content auto;\\n          grid-template-columns: auto max-content auto;\\n      -ms-grid-rows: auto max-content auto;\\n          grid-template-rows: auto -webkit-max-content auto;\\n          grid-template-rows: auto max-content auto; }\\n  :host .wrapper .chart .loading-spinner mat-spinner {\\n        -ms-grid-row: 2;\\n        grid-row: 2;\\n        -ms-grid-column: 2;\\n        grid-column: 2;\\n        margin: auto; }\\n  :host .wrapper .chart .loading-spinner:before {\\n        content: '';\\n        display: block;\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        width: 100%;\\n        height: 100%;\\n        background-color: rgba(97, 97, 97, 0.3); }\\n  :host .wrapper .selection {\\n      display: -ms-grid;\\n      display: grid;\\n      -ms-grid-columns: 1fr 1fr;\\n          grid-template-columns: 1fr 1fr;\\n      -ms-grid-rows: max-content;\\n          grid-template-rows: -webkit-max-content;\\n          grid-template-rows: max-content;\\n      grid-column-gap: 15px;\\n      grid-gap: 10px; }\\n  :host .wrapper .selection .devices {\\n        overflow-y: auto;\\n        max-height: 300px; }\\n  :host .wrapper .selection .devices .device-wrap {\\n          height: auto; }\\n  :host .wrapper .selection .devices .device {\\n          -ms-grid-columns: 1fr 1fr;\\n              grid-template-columns: 1fr 1fr;\\n          display: -ms-grid;\\n          display: grid;\\n          margin-top: 5px;\\n          margin-bottom: 5px; }\\n  :host .wrapper .selection .devices .device .id-wrap {\\n            -ms-grid-column: 1;\\n            grid-column: 1;\\n            -ms-grid-row: 1;\\n            grid-row: 1; }\\n  :host .wrapper .selection .devices .device .description {\\n            -ms-grid-row: 2;\\n            grid-row: 2;\\n            -ms-grid-column: 1;\\n                grid-column-start: 1;\\n            grid-column-end: 3; }\\n  :host .wrapper .selection .devices .device .state-toggle {\\n            -ms-grid-row: 1;\\n            grid-row: 1;\\n            -ms-grid-column: 2;\\n            grid-column: 2;\\n            -ms-grid-column-align: right;\\n                justify-self: right; }\\n  :host .wrapper .selection .date-select {\\n        display: -ms-grid;\\n        display: grid;\\n        -ms-grid-columns: max-content max-content max-content;\\n            grid-template-columns: -webkit-max-content -webkit-max-content -webkit-max-content;\\n            grid-template-columns: max-content max-content max-content;\\n        -ms-grid-rows: 60px 40px;\\n            grid-template-rows: 60px 40px;\\n        -webkit-box-align: center;\\n            -ms-flex-align: center;\\n                align-items: center;\\n        grid-gap: 10px; }\\n  :host .wrapper .selection .date-select .date-from {\\n          -ms-grid-row: 1;\\n          grid-row: 1;\\n          -ms-grid-column: 1;\\n          grid-column: 1; }\\n  :host .wrapper .selection .date-select .date-to {\\n          -ms-grid-row: 1;\\n          grid-row: 1;\\n          -ms-grid-column: 2;\\n          grid-column: 2; }\\n  :host .wrapper .selection .date-select .search-button {\\n          -ms-grid-row: 1;\\n          grid-row: 1;\\n          -ms-grid-column: 3;\\n          grid-column: 3; }\\n  :host .wrapper .selection .date-select .intervals {\\n          -ms-grid-row: 2;\\n          grid-row: 2;\\n          -ms-grid-column: 1;\\n              grid-column-start: 1;\\n          grid-column-end: 4;\\n          display: -ms-grid;\\n          display: grid;\\n          -ms-grid-columns: max-content max-content max-content max-content;\\n              grid-template-columns: -webkit-max-content -webkit-max-content -webkit-max-content -webkit-max-content;\\n              grid-template-columns: max-content max-content max-content max-content;\\n          grid-gap: 25px; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/main/home/home.component.scss\n// module id = ./src/app/main/home/home.component.scss\n// module chunks = main","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {DataService} from \"../../functional/data/data.service\";\r\nimport \"rxjs/add/operator/toArray\"\r\nimport {BehaviorSubject} from \"rxjs/BehaviorSubject\";\r\nimport {Consumption, Device} from \"../models/models\";\r\nimport {MatRadioGroup, MatSelectionList} from \"@angular/material\";\r\nimport {Md2Datepicker} from \"md2\";\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  dateTo: Date;\r\n  dateFrom: Date;\r\n  devices: Array<Device>;\r\n  consumptions: Consumption[] = [];\r\n  maxDate = this.getEndOfTheDay();\r\n  consumptionsBus = new BehaviorSubject<Consumption[]>([]);\r\n  @ViewChild('devicesView')\r\n  devicesView: MatSelectionList;\r\n\r\n  @ViewChild('dateIntervalRadio')\r\n  dateIntervalRadio: MatRadioGroup;\r\n\r\n  @ViewChild(\"dateFromDatePick\")\r\n  dateFromDatePick: Md2Datepicker;\r\n\r\n  @ViewChild(\"dateToDatePick\")\r\n  dateToDatePick: Md2Datepicker;\r\n\r\n  selectedDateInterval = null;\r\n\r\n  dateIntervals = [\r\n    {name: \"Today\", fun: () => {\r\n      this.dateFrom = new Date();\r\n      this.dateFrom.setHours(0,0,0,0);\r\n    }},\r\n    {name: \"Last week\", fun: () => {\r\n      this.dateFrom = new Date();\r\n      this.dateFrom.setHours(0,0,0,0);\r\n      this.dateFrom.setDate(this.dateFrom.getDate() - 7);\r\n    }},\r\n    {name: \"Last month\", fun: () => {\r\n      this.dateFrom = new Date();\r\n      this.dateFrom.setHours(0,0,0,0);\r\n      this.dateFrom.setMonth(this.dateFrom.getMonth() - 1);\r\n    }},\r\n    {name: \"All\", fun: () => {this.dateFrom = null; this.dateTo = null}}\r\n  ];\r\n  isLoading: boolean;\r\n\r\n  private getEndOfTheDay() {\r\n    const date = new Date();\r\n    date.setHours(23,59,59,999);\r\n    return date;\r\n  }\r\n\r\n  constructor(private data: DataService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.data.getDevices()\r\n      .then((devs: Array<Device>) => this.devices = devs);\r\n    this.fetchConsumptions(() => this.data.getConsumptions())\r\n  }\r\n\r\n\r\n  private fetchConsumptions(fun: () => Promise<any>) {\r\n    this.isLoading = true;\r\n    fun().then(c => this.consumptionsBus.next(c))\r\n      .then(() => this.isLoading = false)\r\n      .catch(e => this.isLoading = false)\r\n  }\r\n\r\n  getConsumptions() {\r\n    let devicesIds = this.devicesView.selectedOptions.selected\r\n      .map(x => x.value.id)\r\n      .join(\",\");\r\n    this.fetchConsumptions(() =>  this.data.getConsumptionsBetween(\r\n      devicesIds,\r\n      this.dateFrom ? this.dateFrom.getTime() : 0,\r\n      this.dateTo ? this.dateTo.getTime() : this.getEndOfTheDay().getTime()\r\n    ));\r\n  }\r\n\r\n  canSearch() {\r\n    return this.devicesView.selectedOptions.selected.length > 0 && !this.isLoading\r\n  }\r\n  onStateChange(event, dev: Device) {\r\n    this.data.changeDeviceState(dev.id, event.checked)\r\n      .then((x: Device) => dev.state = x.state)\r\n      .catch()\r\n\r\n  }\r\n\r\n  stopProp($event) {\r\n    $event.stopPropagation()\r\n  }\r\n\r\n  onDateIntervalChange($event) {\r\n    this.selectedDateInterval = $event.value;\r\n    console.log(this.selectedDateInterval);\r\n    this.dateTo = null;\r\n    this.selectedDateInterval.fun();\r\n  }\r\n\r\n  onDateChange() {\r\n    this.selectedDateInterval = null;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main/home/home.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HomeComponent } from './home/home.component';\r\nimport {UiModule} from \"../functional/ui/ui.module\";\r\nimport {FunctionalModule} from \"../functional/functional.module\";\r\nimport {DndModule} from \"ng2-dnd\";\r\nimport {NgxChartsModule} from \"@swimlane/ngx-charts\";\nimport { ChartComponent } from './chart/chart.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FunctionalModule,\r\n    DndModule.forRoot(),\r\n    NgxChartsModule\r\n  ],\r\n  exports: [HomeComponent],\r\n  declarations: [\r\n    HomeComponent,\r\n    ChartComponent\r\n  ]\r\n})\r\nexport class MainModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main/main.module.ts","import {concatAll, groupBy, map, mergeMap, toArray} from \"rxjs/operators\";\r\nimport {from} from \"rxjs/observable/from\";\r\n\r\nexport interface Device {\r\n  id: number\r\n  description?: String\r\n  state: boolean\r\n}\r\n\r\nexport interface Consumption {\r\n  id: number\r\n  measure_time: Date\r\n  value: number\r\n  device_id: number\r\n}\r\n\r\nexport class Granulation {\r\n  constructor(public type: string, public modifier: (val: ChartValue) => ChartValue) {\r\n  }\r\n}\r\n\r\nexport class ChartSeries {\r\n  name: string;\r\n  series: ChartValue[] = [];\r\n\r\n  constructor(values, granulation: Granulation) {\r\n    this.name = values[0].device_id;\r\n    from(values).pipe(\r\n      map((c: Consumption) => ChartValue.fromConsumption(c)),\r\n      map(cv => granulation.modifier(cv)),\r\n      groupBy((cv: ChartValue) => cv.name.getTime()),\r\n      mergeMap(cvs => cvs.toArray()),\r\n      map(cvs => {\r\n        const sumOfValues = cvs\r\n          .map(cv => cv.value)\r\n          .map(strVal => +strVal)\r\n          .reduce((acc, cur) => acc + cur, 0);\r\n        return new ChartValue(sumOfValues / cvs.length, cvs[0].name)\r\n      }),\r\n      toArray(),\r\n      toArray(),\r\n    ).subscribe(\r\n      obj => obj.map(mappedSeries => this.series = mappedSeries)\r\n    )\r\n  }\r\n}\r\n\r\nexport class ChartValue {\r\n  constructor(public value: number, public name: Date) {\r\n  }\r\n\r\n  static fromConsumption(c: Consumption) {\r\n    return new ChartValue(c.value, new Date(c.measure_time))\r\n  }\r\n\r\n  static fromTime(value: number, name: any) {\r\n    return new ChartValue(value, new Date(name))\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main/models/models.ts","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  apiRoot: \"http://127.0.0.1:8000\",\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}